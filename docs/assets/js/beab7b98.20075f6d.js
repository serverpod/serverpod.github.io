"use strict";(self.webpackChunkserverpod_docs=self.webpackChunkserverpod_docs||[]).push([[67801],{68108:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"get-started/creating-project","title":"Creating a new Serverpod project","description":"The full version of Serverpod needs access to a Postgres database. The easiest way to set that up is to use our pre-configured Docker container. Install Flutter, Serverpod and Docker Desktop before you begin.","source":"@site/versioned_docs/version-2.5.0/01-get-started/03-creating-project.md","sourceDirName":"01-get-started","slug":"/get-started/creating-project","permalink":"/2.5.0/get-started/creating-project","draft":false,"unlisted":false,"editUrl":"https://github.com/serverpod/serverpod_docs/tree/main/versioned_docs/version-2.5.0/01-get-started/03-creating-project.md","tags":[],"version":"2.5.0","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Serverpod or Serverpod Mini?","permalink":"/2.5.0/get-started/serverpod-vs-mini"},"next":{"title":"Get started with Mini","permalink":"/2.5.0/get-started/get-started-with-mini"}}');var o=n(74848),s=n(28453);const i={},d="Creating a new Serverpod project",a={},c=[{value:"Starting the server",id:"starting-the-server",level:2},{value:"Running the demo app",id:"running-the-demo-app",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"creating-a-new-serverpod-project",children:"Creating a new Serverpod project"})}),"\n",(0,o.jsxs)(t.p,{children:["The full version of Serverpod needs access to a Postgres database. The easiest way to set that up is to use our pre-configured Docker container. Install ",(0,o.jsx)(t.strong,{children:(0,o.jsx)(t.a,{href:"https://flutter.dev/docs/get-started/install",children:"Flutter"})}),", ",(0,o.jsx)(t.strong,{children:(0,o.jsx)(t.a,{href:"/",children:"Serverpod"})})," and ",(0,o.jsx)(t.strong,{children:(0,o.jsx)(t.a,{href:"https://docs.docker.com/get-docker/",children:"Docker Desktop"})})," before you begin."]}),"\n",(0,o.jsxs)(t.p,{children:["Create a new project by running ",(0,o.jsx)(t.code,{children:"serverpod create"}),"."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"$ serverpod create mypod\n"})}),"\n",(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsxs)(t.p,{children:["Serverpod executes the ",(0,o.jsx)(t.code,{children:"flutter create"})," command inside the flutter package during project creation. On Windows, ",(0,o.jsx)(t.code,{children:"flutter"})," commands require that developer mode is enabled in the system settings."]})}),"\n",(0,o.jsxs)(t.p,{children:["This command will create a new directory called ",(0,o.jsx)(t.code,{children:"mypod"}),", with three dart packages inside; ",(0,o.jsx)(t.code,{children:"mypod_server"}),", ",(0,o.jsx)(t.code,{children:"mypod_client"}),", and ",(0,o.jsx)(t.code,{children:"mypod_flutter"}),"."]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"mypod_server"}),": This package contains your server-side code. Modify it to add new endpoints or other features your server needs."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"mypod_client"}),": This is the code needed to communicate with the server. Typically, all code in this package is generated automatically, and you should not edit the files in this package."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"mypod_flutter"}),": This is the Flutter app, pre-configured to connect to your local server."]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"starting-the-server",children:"Starting the server"}),"\n",(0,o.jsxs)(t.p,{children:["Make sure that ",(0,o.jsx)(t.strong,{children:(0,o.jsx)(t.a,{href:"https://www.docker.com/products/docker-desktop/",children:"Docker Desktop"})})," is running, then start your Docker containers with ",(0,o.jsx)(t.code,{children:"docker compose up --build --detach"}),". It will start Postgres and Redis. Then, run ",(0,o.jsx)(t.code,{children:"dart bin/main.dart --apply-migrations"})," to start your server."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"$ cd mypod/mypod_server\n$ docker compose up --build --detach\n$ dart bin/main.dart --apply-migrations\n"})}),"\n",(0,o.jsx)(t.p,{children:"If everything is working, you should see something like this on your terminal:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-text",children:"SERVERPOD version: 2.x.x, mode: development, time: 2022-09-12 17:22:02.825468Z\nInsights listening on port 8081\nServer default listening on port 8080\nWebserver listening on port 8082\n"})}),"\n",(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsxs)(t.p,{children:["If you need to stop the Docker containers at some point, just run ",(0,o.jsx)(t.code,{children:"docker compose stop"})," or use the Docker Desktop application. You can also use Docker Desktop to start, stop, and manage your containers."]})}),"\n",(0,o.jsx)(t.admonition,{type:"important",children:(0,o.jsxs)(t.p,{children:["In your development environment it can be helpful to always start Serverpod with the ",(0,o.jsx)(t.code,{children:"--apply-migrations"})," flag, as this will ensure that the database is always up-to-date with your latest migration. However, in production you should typically start the server without the flag, unless you want to actually apply a new migration."]})}),"\n",(0,o.jsx)(t.h2,{id:"running-the-demo-app",children:"Running the demo app"}),"\n",(0,o.jsxs)(t.p,{children:["Start the default demo app by changing the directory into the Flutter package that was created and running ",(0,o.jsx)(t.code,{children:"flutter run"}),"."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"$ cd mypod/mypod_flutter\n$ flutter run -d chrome\n"})}),"\n",(0,o.jsxs)(t.p,{children:["The flag ",(0,o.jsx)(t.code,{children:"-d chrome"})," runs the app in Chrome, for other run options please see the Flutter documentation."]}),"\n",(0,o.jsxs)(t.admonition,{type:"info",children:[(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"iOS Simulator"}),": Because an iOS simulator has its own localhost, it won't find the server running on your machine. Therefore, you will need to pass the IP address of your machine when creating the client in ",(0,o.jsx)(t.code,{children:"mypod/mypod_flutter/lib/main.dart"}),". Depending on your local network, it might look something like this:"]}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-dart",children:"var client = Client('http://192.168.1.117:8080/')\n  ..connectivityMonitor = FlutterConnectivityMonitor();\n"})})]}),"\n",(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"MacOS"}),":\nIf you run the app on MacOS, you will need to add permissions for outgoing connections in your Xcode project. To this, open the ",(0,o.jsx)(t.code,{children:"Runner.xcworkspace"})," in Xcode. Then check the ",(0,o.jsx)(t.em,{children:"Outgoing Connections (Client)"})," under ",(0,o.jsx)(t.em,{children:"Runner"})," > ",(0,o.jsx)(t.em,{children:"Signing & Capabilities"})," > ",(0,o.jsx)(t.em,{children:"App Sandbox"}),". Make sure to add the capability for all run configurations."]})})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>d});var r=n(96540);const o={},s=r.createContext(o);function i(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);