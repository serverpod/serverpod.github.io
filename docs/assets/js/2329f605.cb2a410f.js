"use strict";(globalThis.webpackChunkserverpod_docs=globalThis.webpackChunkserverpod_docs||[]).push([[40396],{56558(e,s,r){r.r(s),r.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"concepts/configuration","title":"Configurations","description":"Serverpod can be configured in a few different ways. The minimum required settings to provide is the configuration for the API server. If no settings are provided at all, the default settings for the API server are used.","source":"@site/versioned_docs/version-2.9.0/06-concepts/07-configuration.md","sourceDirName":"06-concepts","slug":"/concepts/configuration","permalink":"/2.9.0/concepts/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/serverpod/serverpod_docs/tree/main/versioned_docs/version-2.9.0/06-concepts/07-configuration.md","tags":[],"version":"2.9.0","sidebarPosition":7,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Runtime parameters","permalink":"/2.9.0/concepts/database/runtime-parameters"},"next":{"title":"Caching","permalink":"/2.9.0/concepts/caching"}}');var i=r(74848),t=r(28453);const d={},l="Configurations",c={},o=[{value:"Configuration options",id:"configuration-options",level:2},{value:"Configuration options for the server",id:"configuration-options-for-the-server",level:3},{value:"Secrets",id:"secrets",level:3},{value:"Built-in Secrets",id:"built-in-secrets",level:4},{value:"Secrets for First Party Packages",id:"secrets-for-first-party-packages",level:4},{value:"Custom Secrets",id:"custom-secrets",level:4},{value:"1. Via Passwords File",id:"1-via-passwords-file",level:5},{value:"2. Via Environment Variables",id:"2-via-environment-variables",level:5},{value:"Config file example",id:"config-file-example",level:3},{value:"Passwords file example",id:"passwords-file-example",level:3},{value:"Dart config object example",id:"dart-config-object-example",level:3},{value:"Default",id:"default",level:3},{value:"Code generation configuration",id:"code-generation-configuration",level:2},{value:"Generator configuration options",id:"generator-configuration-options",level:3},{value:"Package types",id:"package-types",level:3},{value:"Client package path",id:"client-package-path",level:3},{value:"Test tools generation",id:"test-tools-generation",level:3},{value:"Module dependencies",id:"module-dependencies",level:3},{value:"Custom serializable classes",id:"custom-serializable-classes",level:3},{value:"Features",id:"features",level:3},{value:"Experimental features",id:"experimental-features",level:3}];function a(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"configurations",children:"Configurations"})}),"\n",(0,i.jsx)(s.p,{children:"Serverpod can be configured in a few different ways. The minimum required settings to provide is the configuration for the API server. If no settings are provided at all, the default settings for the API server are used."}),"\n",(0,i.jsx)(s.h2,{id:"configuration-options",children:"Configuration options"}),"\n",(0,i.jsx)(s.p,{children:"There are three different ways to configure Serverpod: with environment variables, via yaml config files, or by supplying the dart configuration object to the Serverpod constructor. The environment variables take precedence over the yaml configurations but both can be used simultaneously. The dart configuration object will override any environment variable or config file. The tables show all available configuration options provided in the Serverpod core library."}),"\n",(0,i.jsx)(s.mermaid,{value:'flowchart TB\n    %% \u2500\u2500 widest box first so YAML feels like the default bedrock\n    A["YAML config files<br/>(default)"]:::yaml\n    B["Environment variables<br/>(overrides YAML)"]:::env\n    C["Dart configuration object<br/>(overrides YAML and ENV)"]:::dart\n\n    A --\x3e B\n    B --\x3e C\n\n    %% Styles (optional \u2013 tweak to your theme)\n  class A yaml\n    class B env\n    class C dart'}),"\n",(0,i.jsx)(s.h3,{id:"configuration-options-for-the-server",children:"Configuration options for the server"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Environment variable"}),(0,i.jsx)(s.th,{children:"Command line option"}),(0,i.jsx)(s.th,{children:"Config file option"}),(0,i.jsx)(s.th,{children:"Default"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_RUN_MODE"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"--mode"})}),(0,i.jsx)(s.td,{children:"N/A"}),(0,i.jsx)(s.td,{children:"development"}),(0,i.jsxs)(s.td,{children:["Configures the mode of the server instance. Valid options are ",(0,i.jsx)(s.code,{children:"development"}),", ",(0,i.jsx)(s.code,{children:"staging"}),", ",(0,i.jsx)(s.code,{children:"production"})," and ",(0,i.jsx)(s.code,{children:"test"}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_SERVER_ID"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"--server-id"})}),(0,i.jsx)(s.td,{children:"serverId"}),(0,i.jsx)(s.td,{children:"default"}),(0,i.jsx)(s.td,{children:"Configures the id of the server instance."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_SERVER_ROLE"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"--role"})}),(0,i.jsx)(s.td,{children:"role"}),(0,i.jsx)(s.td,{children:"monolith"}),(0,i.jsxs)(s.td,{children:["Configures the role of the server instance. Valid options are ",(0,i.jsx)(s.code,{children:"monolith"}),", ",(0,i.jsx)(s.code,{children:"serverless"})," and ",(0,i.jsx)(s.code,{children:"maintenance"}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_LOGGING_MODE"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"--logging"})}),(0,i.jsx)(s.td,{children:"logging"}),(0,i.jsx)(s.td,{children:"normal"}),(0,i.jsxs)(s.td,{children:["Configures the logging level. Valid options are ",(0,i.jsx)(s.code,{children:"normal"}),", and ",(0,i.jsx)(s.code,{children:"verbose"}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_APPLY_MIGRATIONS"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"--apply-migrations"})}),(0,i.jsx)(s.td,{children:"applyMigrations"}),(0,i.jsx)(s.td,{children:"false"}),(0,i.jsx)(s.td,{children:"Configures if migrations should be applied when the server starts."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_APPLY_REPAIR_MIGRATION"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"--apply-repair-migration"})}),(0,i.jsx)(s.td,{children:"applyRepairMigration"}),(0,i.jsx)(s.td,{children:"false"}),(0,i.jsx)(s.td,{children:"Configures if repair migrations should be applied when the server starts."})]})]})]}),"\n",(0,i.jsxs)(s.p,{children:["These can be separately declared for each run mode in the corresponding yaml file (",(0,i.jsx)(s.code,{children:"development.yaml"}),",",(0,i.jsx)(s.code,{children:"staging.yaml"}),", ",(0,i.jsx)(s.code,{children:"production.yaml"})," and ",(0,i.jsx)(s.code,{children:"testing.yaml"}),") or as environment variables."]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Environment variable"}),(0,i.jsx)(s.th,{children:"Config file"}),(0,i.jsx)(s.th,{children:"Default"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_API_SERVER_PORT"}),(0,i.jsx)(s.td,{children:"apiServer.port"}),(0,i.jsx)(s.td,{children:"8080"}),(0,i.jsx)(s.td,{children:"The port number for the API server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_API_SERVER_PUBLIC_HOST"}),(0,i.jsx)(s.td,{children:"apiServer.publicHost"}),(0,i.jsx)(s.td,{children:"localhost"}),(0,i.jsx)(s.td,{children:"The public host address of the API server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_API_SERVER_PUBLIC_PORT"}),(0,i.jsx)(s.td,{children:"apiServer.publicPort"}),(0,i.jsx)(s.td,{children:"8080"}),(0,i.jsx)(s.td,{children:"The public port number for the API server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_API_SERVER_PUBLIC_SCHEME"}),(0,i.jsx)(s.td,{children:"apiServer.publicScheme"}),(0,i.jsx)(s.td,{children:"http"}),(0,i.jsx)(s.td,{children:"The public scheme (http/https) for the API server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_INSIGHTS_SERVER_PORT"}),(0,i.jsx)(s.td,{children:"insightsServer.port"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The port number for the Insights server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_INSIGHTS_SERVER_PUBLIC_HOST"}),(0,i.jsx)(s.td,{children:"insightsServer.publicHost"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The public host address of the Insights server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_INSIGHTS_SERVER_PUBLIC_PORT"}),(0,i.jsx)(s.td,{children:"insightsServer.publicPort"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The public port number for the Insights server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_INSIGHTS_SERVER_PUBLIC_SCHEME"}),(0,i.jsx)(s.td,{children:"insightsServer.publicScheme"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The public scheme (http/https) for the Insights server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_WEB_SERVER_PORT"}),(0,i.jsx)(s.td,{children:"webServer.port"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The port number for the Web server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_WEB_SERVER_PUBLIC_HOST"}),(0,i.jsx)(s.td,{children:"webServer.publicHost"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The public host address of the Web server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_WEB_SERVER_PUBLIC_PORT"}),(0,i.jsx)(s.td,{children:"webServer.publicPort"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The public port number for the Web server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_WEB_SERVER_PUBLIC_SCHEME"}),(0,i.jsx)(s.td,{children:"webServer.publicScheme"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The public scheme (http/https) for the Web server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_DATABASE_HOST"}),(0,i.jsx)(s.td,{children:"database.host"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The host address of the database"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_DATABASE_PORT"}),(0,i.jsx)(s.td,{children:"database.port"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The port number for the database connection"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_DATABASE_NAME"}),(0,i.jsx)(s.td,{children:"database.name"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The name of the database"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_DATABASE_USER"}),(0,i.jsx)(s.td,{children:"database.user"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The user name for database authentication"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_DATABASE_SEARCH_PATHS"}),(0,i.jsx)(s.td,{children:"database.searchPaths"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The search paths used for all database connections"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_DATABASE_REQUIRE_SSL"}),(0,i.jsx)(s.td,{children:"database.requireSsl"}),(0,i.jsx)(s.td,{children:"false"}),(0,i.jsx)(s.td,{children:"Indicates if SSL is required for the database"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_DATABASE_IS_UNIX_SOCKET"}),(0,i.jsx)(s.td,{children:"database.isUnixSocket"}),(0,i.jsx)(s.td,{children:"false"}),(0,i.jsx)(s.td,{children:"Specifies if the database connection is a Unix socket"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_REDIS_HOST"}),(0,i.jsx)(s.td,{children:"redis.host"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The host address of the Redis server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_REDIS_PORT"}),(0,i.jsx)(s.td,{children:"redis.port"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The port number for the Redis server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_REDIS_USER"}),(0,i.jsx)(s.td,{children:"redis.user"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The user name for Redis authentication"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_REDIS_ENABLED"}),(0,i.jsx)(s.td,{children:"redis.enabled"}),(0,i.jsx)(s.td,{children:"false"}),(0,i.jsx)(s.td,{children:"Indicates if Redis is enabled"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_REDIS_REQUIRE_SSL"}),(0,i.jsx)(s.td,{children:"redis.requireSsl"}),(0,i.jsx)(s.td,{children:"false"}),(0,i.jsx)(s.td,{children:"Indicates if SSL is required for the Redis connection"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_MAX_REQUEST_SIZE"}),(0,i.jsx)(s.td,{children:"maxRequestSize"}),(0,i.jsx)(s.td,{children:"524288"}),(0,i.jsx)(s.td,{children:"The maximum size of requests allowed in bytes"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_SESSION_PERSISTENT_LOG_ENABLED"}),(0,i.jsx)(s.td,{children:"sessionLogs.persistentEnabled"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsxs)(s.td,{children:["Enables or disables logging session data to the database. Defaults to ",(0,i.jsx)(s.code,{children:"true"})," if a database is configured, otherwise ",(0,i.jsx)(s.code,{children:"false"}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_SESSION_CONSOLE_LOG_ENABLED"}),(0,i.jsx)(s.td,{children:"sessionLogs.consoleEnabled"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsxs)(s.td,{children:["Enables or disables logging session data to the console. Defaults to ",(0,i.jsx)(s.code,{children:"true"})," if no database is configured, otherwise ",(0,i.jsx)(s.code,{children:"false"}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_SESSION_CONSOLE_LOG_FORMAT"}),(0,i.jsx)(s.td,{children:"sessionLogs.consoleLogFormat"}),(0,i.jsx)(s.td,{children:"json"}),(0,i.jsxs)(s.td,{children:["The format for console logging of session data. Valid options are ",(0,i.jsx)(s.code,{children:"text"})," and ",(0,i.jsx)(s.code,{children:"json"}),". Defaults to ",(0,i.jsx)(s.code,{children:"text"})," for run mode ",(0,i.jsx)(s.code,{children:"development"}),", otherwise ",(0,i.jsx)(s.code,{children:"json"}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_FUTURE_CALL_EXECUTION_ENABLED"}),(0,i.jsx)(s.td,{children:"futureCallExecutionEnabled"}),(0,i.jsx)(s.td,{children:"true"}),(0,i.jsx)(s.td,{children:"Enables or disables the execution of future calls."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_FUTURE_CALL_CONCURRENCY_LIMIT"}),(0,i.jsx)(s.td,{children:"futureCall.concurrencyLimit"}),(0,i.jsx)(s.td,{children:"1"}),(0,i.jsx)(s.td,{children:"The maximum number of concurrent future calls allowed. If the value is negative or null, no limit is applied."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_FUTURE_CALL_SCAN_INTERVAL"}),(0,i.jsx)(s.td,{children:"futureCall.scanInterval"}),(0,i.jsx)(s.td,{children:"5000"}),(0,i.jsx)(s.td,{children:"The interval in milliseconds for scanning future calls"})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"secrets",children:"Secrets"}),"\n",(0,i.jsxs)(s.p,{children:["Secrets are declared in the ",(0,i.jsx)(s.code,{children:"passwords.yaml"})," file. The password file is structured with a common ",(0,i.jsx)(s.code,{children:"shared"})," section, any secret put here will be used in all run modes. The other sections are the names of the run modes followed by respective key/value pairs. You can also define custom secrets using ",(0,i.jsx)(s.a,{href:"#2-via-environment-variables",children:"environment variables"}),"."]}),"\n",(0,i.jsx)(s.h4,{id:"built-in-secrets",children:"Built-in Secrets"}),"\n",(0,i.jsx)(s.p,{children:"The following table shows the built-in secrets that Serverpod uses for its core functionality. These can be configured either through environment variables or by adding the corresponding key in a respective run mode or shared section in the passwords file. These are separate from any custom passwords you might define."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Environment variable"}),(0,i.jsx)(s.th,{children:"Passwords file"}),(0,i.jsx)(s.th,{children:"Default"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_PASSWORD_database"}),(0,i.jsx)(s.td,{children:"database"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The password for the database"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_PASSWORD_serviceSecret"}),(0,i.jsx)(s.td,{children:"serviceSecret"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The token used to connect with insights must be at least 20 chars"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_PASSWORD_redis"}),(0,i.jsx)(s.td,{children:"redis"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The password for the Redis server"})]})]})]}),"\n",(0,i.jsx)(s.h4,{id:"secrets-for-first-party-packages",children:"Secrets for First Party Packages"}),"\n",(0,i.jsx)(s.p,{children:"The following secrets are used by official Serverpod packages:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://pub.dev/packages/serverpod_cloud_storage_gcp",children:"serverpod_cloud_storage_gcp"}),": Google Cloud Storage"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://pub.dev/packages/serverpod_cloud_storage_s3",children:"serverpod_cloud_storage_s3"}),": Amazon S3"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://pub.dev/packages/serverpod_auth_server",children:"serverpod_auth_server"}),": Serverpod Auth Server"]}),"\n"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Environment variable"}),(0,i.jsx)(s.th,{children:"Passwords file"}),(0,i.jsx)(s.th,{children:"Default"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_PASSWORD_HMACAccessKeyId"}),(0,i.jsx)(s.td,{children:"HMACAccessKeyId"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The access key ID for HMAC authentication for serverpod_cloud_storage_gcp"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_PASSWORD_HMACSecretKey"}),(0,i.jsx)(s.td,{children:"HMACSecretKey"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The secret key for HMAC authentication for serverpod_cloud_storage_gcp"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_PASSWORD_AWSAccessKeyId"}),(0,i.jsx)(s.td,{children:"AWSAccessKeyId"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The access key ID for AWS authentication for serverpod_cloud_storage_s3"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_PASSWORD_AWSSecretKey"}),(0,i.jsx)(s.td,{children:"AWSSecretKey"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The secret key for AWS authentication for serverpod_cloud_storage_s3"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_PASSWORD_serverpod_auth_googleClientSecret"}),(0,i.jsx)(s.td,{children:"serverpod_auth_googleClientSecret"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The client secret for Google authentication for serverpod_auth_server"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_PASSWORD_serverpod_auth_firebaseServiceAccountKey"}),(0,i.jsx)(s.td,{children:"serverpod_auth_firebaseServiceAccountKey"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"The service account key for Firebase authentication for serverpod_auth_server"})]})]})]}),"\n",(0,i.jsx)(s.h4,{id:"custom-secrets",children:"Custom Secrets"}),"\n",(0,i.jsx)(s.p,{children:"You can define your own custom secrets in two ways."}),"\n",(0,i.jsx)(s.h5,{id:"1-via-passwords-file",children:"1. Via Passwords File"}),"\n",(0,i.jsxs)(s.p,{children:["Add your custom secrets directly to the passwords file under the ",(0,i.jsx)(s.code,{children:"shared"})," section (available in all run modes) or under specific run mode sections."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"shared:\n  myCustomSharedSecret: 'secret_key'\n  stripeApiKey: 'sk_test_123...'\n\ndevelopment:\n  database: 'development_password'\n  redis: 'development_password'\n  serviceSecret: 'development_service_secret'\n  twilioApiKey: 'dev_twilio_key'\n\nproduction:\n  database: 'production_password'\n  redis: 'production_password'\n  serviceSecret: 'production_service_secret'\n  twilioApiKey: 'prod_twilio_key'\n"})}),"\n",(0,i.jsx)(s.h5,{id:"2-via-environment-variables",children:"2. Via Environment Variables"}),"\n",(0,i.jsxs)(s.p,{children:["You can also define custom passwords using environment variables with the ",(0,i.jsx)(s.code,{children:"SERVERPOD_PASSWORD_"})," prefix. For example, ",(0,i.jsx)(s.code,{children:"SERVERPOD_PASSWORD_myApiKey"})," will be available as ",(0,i.jsx)(s.code,{children:"myApiKey"})," (the prefix is stripped). These environment variables will override any passwords defined in the passwords file if the name (after stripping the prefix) matches. Like the ",(0,i.jsx)(s.code,{children:"shared"})," section in the passwords file, these environment variables are available in all run modes."]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Environment variable format"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SERVERPOD_PASSWORD_*"}),(0,i.jsxs)(s.td,{children:["Custom password that will be available in the Session.passwords map. The prefix ",(0,i.jsx)(s.code,{children:"SERVERPOD_PASSWORD_"})," will be stripped from the key name."]})]})})]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Example:"})}),"\n",(0,i.jsx)(s.p,{children:"To define a custom password through an environment variable:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"export SERVERPOD_PASSWORD_stripeApiKey=sk_test_123...\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Accessing Custom Passwords:"})}),"\n",(0,i.jsxs)(s.p,{children:["You can then access any custom password (whether defined in the passwords file or via environment variables) in your endpoint code through the ",(0,i.jsx)(s.code,{children:"Session.passwords"})," map:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-dart",children:"Future<void> processPayment(Session session, PaymentData data) async {\n  final stripeApiKey = session.passwords['stripeApiKey'];\n  // Use the API key to make requests to Stripe\n  ...\n}\n"})}),"\n",(0,i.jsx)(s.h3,{id:"config-file-example",children:"Config file example"}),"\n",(0,i.jsxs)(s.p,{children:["The config file should be named after the run mode you start the server in and it needs to be placed inside the ",(0,i.jsx)(s.code,{children:"config"})," directory in the root of the server project. As an example, you have the ",(0,i.jsx)(s.code,{children:"config/development.yaml"})," that will be used when running in the ",(0,i.jsx)(s.code,{children:"development"})," run mode."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"apiServer:\n  port: 8080\n  publicHost: localhost\n  publicPort: 8080\n  publicScheme: http\n\ninsightsServer:\n  port: 8081\n  publicHost: localhost\n  publicPort: 8081\n  publicScheme: http\n\nwebServer:\n  port: 8082\n  publicHost: localhost\n  publicPort: 8082\n  publicScheme: http\n\ndatabase:\n  host: localhost\n  port: 8090\n  name: database_name\n  user: postgres\n\nredis:\n  enabled: false\n  host: localhost\n  port: 8091\n\nmaxRequestSize: 524288\n\nsessionLogs:\n  persistentEnabled: true\n  consoleEnabled: true\n  consoleLogFormat: json\n\nfutureCallExecutionEnabled: true\n\nfutureCall:\n  concurrencyLimit: 5\n  scanInterval: 2000\n"})}),"\n",(0,i.jsx)(s.h3,{id:"passwords-file-example",children:"Passwords file example"}),"\n",(0,i.jsxs)(s.p,{children:["The password file contains the secrets used by the server to connect to different services but you can also supply your secrets if you want. This file is structured with a common ",(0,i.jsx)(s.code,{children:"shared"})," section, any secret put here will be used in all run modes. The other sections are the names of the run modes followed by respective key/value pairs."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"shared:\n  myCustomSharedSecret: 'secret_key'\n\ndevelopment:\n  database: 'development_password'\n  redis: 'development_password'\n  serviceSecret: 'development_service_secret'\n  twilioApiKey: 'dev_twilio_key'\n\nproduction:\n  database: 'production_password'\n  redis: 'production_password'\n  serviceSecret: 'production_service_secret'\n  twilioApiKey: 'prod_twilio_key'\n"})}),"\n",(0,i.jsx)(s.h3,{id:"dart-config-object-example",children:"Dart config object example"}),"\n",(0,i.jsxs)(s.p,{children:["To configure Serverpod in Dart you simply pass an instance of the ",(0,i.jsx)(s.code,{children:"ServerpodConfig"})," class to the ",(0,i.jsx)(s.code,{children:"Serverpod"})," constructor. This config will override any environment variables or config files present. The ",(0,i.jsx)(s.code,{children:"Serverpod"})," constructor is normally used inside the ",(0,i.jsx)(s.code,{children:"run"})," function in your ",(0,i.jsx)(s.code,{children:"server.dart"})," file. At a minimum, the ",(0,i.jsx)(s.code,{children:"apiServer"})," has to be provided."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-dart",children:"Serverpod(\n  args,\n  Protocol(),\n  Endpoints(),\n  config: ServerpodConfig(\n    apiServer: ServerConfig(\n      port: 8080,\n      publicHost: 'localhost',\n      publicPort: 8080,\n      publicScheme: 'http',\n    ),\n    insightsServer: ServerConfig(\n      port: 8081,\n      publicHost: 'localhost',\n      publicPort: 8081,\n      publicScheme: 'http',\n    ),\n    webServer: ServerConfig(\n      port: 8082,\n      publicHost: 'localhost',\n      publicPort: 8082,\n      publicScheme: 'http',\n    ),\n  ),\n);\n"})}),"\n",(0,i.jsx)(s.h3,{id:"default",children:"Default"}),"\n",(0,i.jsx)(s.p,{children:"If no yaml config files exist, no environment variables are configured and no dart config file is supplied this default configuration will be used."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-dart",children:"ServerpodConfig(\n  apiServer: ServerConfig(\n    port: 8080,\n    publicHost: 'localhost',\n    publicPort: 8080,\n    publicScheme: 'http',\n  ),\n);\n"})}),"\n",(0,i.jsx)(s.h2,{id:"code-generation-configuration",children:"Code generation configuration"}),"\n",(0,i.jsxs)(s.p,{children:["While the above configurations control how your server runs, Serverpod also uses a ",(0,i.jsx)(s.code,{children:"generator.yaml"})," file to configure code generation. This file should be placed in the ",(0,i.jsx)(s.code,{children:"config"})," directory of your server project."]}),"\n",(0,i.jsx)(s.h3,{id:"generator-configuration-options",children:"Generator configuration options"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Option"}),(0,i.jsx)(s.th,{children:"Type"}),(0,i.jsx)(s.th,{children:"Default"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"type"}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"server"}),(0,i.jsxs)(s.td,{children:["The package type. Valid options are ",(0,i.jsx)(s.code,{children:"server"}),", ",(0,i.jsx)(s.code,{children:"module"}),", or ",(0,i.jsx)(s.code,{children:"internal"}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"nickname"}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"For modules only. Defines how the module is referenced in code."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"client_package_path"}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"../[name]_client"}),(0,i.jsx)(s.td,{children:"Path to the client package relative to the server."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"server_test_tools_path"}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"test/integration/test_tools"}),(0,i.jsx)(s.td,{children:"Path where test tools are generated. Remove this to disable test tools generation."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"modules"}),(0,i.jsx)(s.td,{children:"map"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"Module dependencies with optional nicknames."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"extraClasses"}),(0,i.jsx)(s.td,{children:"list"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsx)(s.td,{children:"List of custom serializable classes to include in code generation."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"features"}),(0,i.jsx)(s.td,{children:"map"}),(0,i.jsx)(s.td,{children:"{database: true}"}),(0,i.jsxs)(s.td,{children:["Feature flags. Currently only ",(0,i.jsx)(s.code,{children:"database"})," is supported."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"experimental_features"}),(0,i.jsx)(s.td,{children:"map"}),(0,i.jsx)(s.td,{children:"-"}),(0,i.jsxs)(s.td,{children:["Experimental features. Available keys: ",(0,i.jsx)(s.code,{children:"all"}),", ",(0,i.jsx)(s.code,{children:"inheritance"}),"."]})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"package-types",children:"Package types"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"type"})," field determines how Serverpod treats your package:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"server"}),": A standard Serverpod application (default)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"module"}),": A reusable module that can be imported by other Serverpod projects"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"internal"}),": Internal Serverpod framework packages"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["For modules, you can also specify a ",(0,i.jsx)(s.code,{children:"nickname"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"type: module\nnickname: auth\n"})}),"\n",(0,i.jsx)(s.h3,{id:"client-package-path",children:"Client package path"}),"\n",(0,i.jsxs)(s.p,{children:["By default, Serverpod expects the client package to be located at ",(0,i.jsx)(s.code,{children:"../[project_name]_client"}),". You can customize this:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"client_package_path: ../my_custom_client\n"})}),"\n",(0,i.jsx)(s.h3,{id:"test-tools-generation",children:"Test tools generation"}),"\n",(0,i.jsxs)(s.p,{children:["Test tools for integration testing are generated by default at ",(0,i.jsx)(s.code,{children:"test/integration/test_tools"}),". To disable test tools generation, remove the ",(0,i.jsx)(s.code,{children:"server_test_tools_path"})," from your configuration:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"# Remove or comment out this line to disable test tools\n# server_test_tools_path: test/integration/test_tools\n"})}),"\n",(0,i.jsxs)(s.p,{children:["See the ",(0,i.jsx)(s.a,{href:"testing/get-started",children:"testing documentation"})," for more details."]}),"\n",(0,i.jsx)(s.h3,{id:"module-dependencies",children:"Module dependencies"}),"\n",(0,i.jsx)(s.p,{children:"Declare module dependencies and optionally assign nicknames for easier reference:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"modules:\n  serverpod_auth:\n    nickname: auth\n  my_custom_module:\n    nickname: custom\n"})}),"\n",(0,i.jsxs)(s.p,{children:["This allows you to reference module classes as ",(0,i.jsx)(s.code,{children:"module:auth:UserInfo"})," in your model files. See the ",(0,i.jsx)(s.a,{href:"modules",children:"modules documentation"})," for more information."]}),"\n",(0,i.jsx)(s.h3,{id:"custom-serializable-classes",children:"Custom serializable classes"}),"\n",(0,i.jsx)(s.p,{children:"Register custom classes for use in your models:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"extraClasses:\n  - package:my_shared_package/my_shared_package.dart:CustomClass\n  - package:my_shared_package/my_shared_package.dart:AnotherCustomClass\n"})}),"\n",(0,i.jsxs)(s.p,{children:["See the ",(0,i.jsx)(s.a,{href:"serialization",children:"serialization documentation"})," for implementing custom serializable classes."]}),"\n",(0,i.jsx)(s.h3,{id:"features",children:"Features"}),"\n",(0,i.jsx)(s.p,{children:"Control which Serverpod features are enabled:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"features:\n  database: false # Disables database features\n"})}),"\n",(0,i.jsx)(s.h3,{id:"experimental-features",children:"Experimental features"}),"\n",(0,i.jsx)(s.p,{children:"Enable experimental features that are still in development:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"experimental_features:\n  inheritance: true # Enables class inheritance in model files\n  # or\n  all: true # Enables all experimental features\n"})}),"\n",(0,i.jsx)(s.p,{children:"Available experimental features:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"inheritance"}),": Enables the ",(0,i.jsx)(s.code,{children:"extends"})," keyword in model files for class inheritance"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"all"}),": Enables all available experimental features"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["See the ",(0,i.jsx)(s.a,{href:"experimental",children:"experimental features documentation"})," for detailed information about each feature."]}),"\n",(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsx)(s.p,{children:"Experimental features may change or be removed in future versions."})})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453(e,s,r){r.d(s,{R:()=>d,x:()=>l});var n=r(96540);const i={},t=n.createContext(i);function d(e){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);