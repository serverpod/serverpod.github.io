"use strict";(self.webpackChunkserverpod_docs=self.webpackChunkserverpod_docs||[]).push([[6401],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),d=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=d(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=d(n),m=o,f=c["".concat(l,".").concat(m)]||c[m]||p[m]||i;return n?r.createElement(f,a(a({ref:t},u),{},{components:n})):r.createElement(f,a({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var d=2;d<i;d++)a[d]=n[d];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4837:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return d},toc:function(){return p}});var r=n(7462),o=n(3366),i=(n(7294),n(3905)),a=["components"],s={},l="General notes",d={unversionedId:"deployments/general",id:"version-0.9.8/deployments/general",title:"General notes",description:"We are working hard to bring a set of ready made deployment scripts and deployment guides to Serverpod as part of the 1.0 release. Initially, we will support AWS, but Google cloud will come soon after.",source:"@site/versioned_docs/version-0.9.8/04-deployments/02-general.md",sourceDirName:"04-deployments",slug:"/deployments/general",permalink:"/deployments/general",editUrl:"https://github.com/serverpod/serverpod_docs/tree/main/versioned_docs/version-0.9.8/04-deployments/02-general.md",tags:[],version:"0.9.8",sidebarPosition:2,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Deploying to AWS",permalink:"/deployments/deploying-to-aws"},next:{title:"Roadmap",permalink:"/roadmap"}},u={},p=[{value:"Configuration files",id:"configuration-files",level:2},{value:"Running a cluster of servers",id:"running-a-cluster-of-servers",level:2},{value:"Required services",id:"required-services",level:2}],c={toc:p};function m(e){var t=e.components,n=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"general-notes"},"General notes"),(0,i.kt)("p",null,"We are working hard to bring a set of ready made deployment scripts and deployment guides to Serverpod as part of the 1.0 release. Initially, we will support AWS, but Google cloud will come soon after."),(0,i.kt)("h2",{id:"configuration-files"},"Configuration files"),(0,i.kt)("p",null,"Serverpod has three main configuration files, depending on which mode the server is running; ",(0,i.kt)("inlineCode",{parentName:"p"},"development"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"staging"),", or ",(0,i.kt)("inlineCode",{parentName:"p"},"production"),". The files are located in the ",(0,i.kt)("inlineCode",{parentName:"p"},"config/")," directory. By default, the server will start in development mode. To use another configuration file, use the ",(0,i.kt)("inlineCode",{parentName:"p"},"--mode")," option when starting the server. If you are running multiple servers in a cluster, use the ",(0,i.kt)("inlineCode",{parentName:"p"},"--server-id")," option to specify the id of each server. By default, the server will run as id 0. For instance, to start the server in production mode with id 2, run the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"dart bin/main.dart --mode production --server-id 2\n")),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"It may be totally valid to run all servers with the same id. If you are using something like AWS Fargate it's hard to configure individual server ids."))),(0,i.kt)("p",null,"Depending on how memory intensive the server is and how many requests it is serving at peak times, you may want to increase the maximum heap size Dart can use. You can do this by passing the ",(0,i.kt)("inlineCode",{parentName:"p"},"--old_gen_heap_size")," option to dart. If you set it to ",(0,i.kt)("inlineCode",{parentName:"p"},"0")," it will give Dart unlimited heap space. Serverpod will run on most operating systems where you can run Dart; Flutter is not required."),(0,i.kt)("h2",{id:"running-a-cluster-of-servers"},"Running a cluster of servers"),(0,i.kt)("p",null,"To run a cluster of servers, you need to place your servers behind a load balancer so that they have a common access point to the main API port. If you want to gather runtime information from the servers, the service port needs to be accessible not only between servers in the cluster but also from the outside. You will most likely want to add an HTTPS certificate to your load balancer to make sure all communication with clients is encrypted."),(0,i.kt)("h2",{id:"required-services"},"Required services"),(0,i.kt)("p",null,"Serverpod will not run without a link to a Postgres database with the correct tables added. Serverpod can also use Redis, you will need to manually enable Redis in your configuration files."))}m.isMDXComponent=!0}}]);