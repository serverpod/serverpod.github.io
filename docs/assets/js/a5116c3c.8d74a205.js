"use strict";(globalThis.webpackChunkserverpod_docs=globalThis.webpackChunkserverpod_docs||[]).push([[18924],{36704(e,s,n){n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"concepts/webserver/server-side-html","title":"Server-Side HTML","description":"For simple HTML pages, you can use WidgetRoute and TemplateWidget. The","source":"@site/versioned_docs/version-3.2.0/06-concepts/18-webserver/07-server-side-html.md","sourceDirName":"06-concepts/18-webserver","slug":"/concepts/webserver/server-side-html","permalink":"/3.2.0/concepts/webserver/server-side-html","draft":false,"unlisted":false,"editUrl":"https://github.com/serverpod/serverpod_docs/tree/main/versioned_docs/version-3.2.0/06-concepts/18-webserver/07-server-side-html.md","tags":[],"version":"3.2.0","sidebarPosition":7,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Static files","permalink":"/3.2.0/concepts/webserver/static-files"},"next":{"title":"Single page apps","permalink":"/3.2.0/concepts/webserver/single-page-apps"}}');var i=n(74848),r=n(28453);const d={},a="Server-Side HTML",l={},o=[{value:"Creating a WidgetRoute",id:"creating-a-widgetroute",level:2},{value:"Creating a TemplateWidget",id:"creating-a-templatewidget",level:2},{value:"Built-in widgets",id:"built-in-widgets",level:2},{value:"Database access and logging",id:"database-access-and-logging",level:2},{value:"Next steps",id:"next-steps",level:2}];function c(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"server-side-html",children:"Server-Side HTML"})}),"\n",(0,i.jsxs)(s.p,{children:["For simple HTML pages, you can use ",(0,i.jsx)(s.code,{children:"WidgetRoute"})," and ",(0,i.jsx)(s.code,{children:"TemplateWidget"}),". The\n",(0,i.jsx)(s.code,{children:"WidgetRoute"})," provides an entry point for handling requests and returns a\n",(0,i.jsx)(s.code,{children:"WebWidget"}),". The ",(0,i.jsx)(s.code,{children:"TemplateWidget"})," (which extends ",(0,i.jsx)(s.code,{children:"WebWidget"}),") renders web pages\nusing Mustache templates."]}),"\n",(0,i.jsx)(s.h2,{id:"creating-a-widgetroute",children:"Creating a WidgetRoute"}),"\n",(0,i.jsxs)(s.p,{children:["Create custom routes by extending the ",(0,i.jsx)(s.code,{children:"WidgetRoute"})," class and implementing the\n",(0,i.jsx)(s.code,{children:"build"})," method:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-dart",children:"class MyRoute extends WidgetRoute {\n  @override\n  Future<TemplateWidget> build(Session session, Request request) async {\n    return MyPageWidget(title: 'Home page');\n  }\n}\n\n// Register the route\npod.webServer.addRoute(MyRoute(), '/my/page/address');\n"})}),"\n",(0,i.jsx)(s.h2,{id:"creating-a-templatewidget",children:"Creating a TemplateWidget"}),"\n",(0,i.jsxs)(s.p,{children:["A ",(0,i.jsx)(s.code,{children:"TemplateWidget"})," consists of a Dart class and a corresponding HTML template\nfile. Create a custom widget by extending ",(0,i.jsx)(s.code,{children:"TemplateWidget"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-dart",children:"class MyPageWidget extends TemplateWidget {\n  MyPageWidget({required String title}) : super(name: 'my_page') {\n    values = {\n      'title': title,\n    };\n  }\n}\n"})}),"\n",(0,i.jsxs)(s.p,{children:["Place the corresponding HTML template in the ",(0,i.jsx)(s.code,{children:"web/templates"})," directory. The HTML\nfile uses the ",(0,i.jsx)(s.a,{href:"https://mustache.github.io/",children:"Mustache"})," template language:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:"<!DOCTYPE html>\n<html>\n<head>\n  <title>{{title}}</title>\n</head>\n<body>\n  <h1>{{title}}</h1>\n  <p>Welcome to my page!</p>\n</body>\n</html>\n"})}),"\n",(0,i.jsxs)(s.p,{children:["Template values are converted to ",(0,i.jsx)(s.code,{children:"String"})," objects before being passed to the\ntemplate. This makes it possible to nest widgets, similarly to how widgets work\nin Flutter."]}),"\n",(0,i.jsx)(s.h2,{id:"built-in-widgets",children:"Built-in widgets"}),"\n",(0,i.jsx)(s.p,{children:"Serverpod provides several built-in widgets for common use cases:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"ListWidget"})})," - Concatenates multiple widgets into a single response"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-dart",children:"return ListWidget(children: [\n  HeaderWidget(),\n  ContentWidget(),\n  FooterWidget(),\n]);\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"JsonWidget"})})," - Renders JSON documents from serializable data structures"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-dart",children:"return JsonWidget({'status': 'success', 'data': myData});\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"RedirectWidget"})})," - Creates HTTP redirects to other URLs"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-dart",children:"return RedirectWidget('/new/location');\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"database-access-and-logging",children:"Database access and logging"}),"\n",(0,i.jsxs)(s.p,{children:["The web server passes a ",(0,i.jsx)(s.code,{children:"Session"})," object to the ",(0,i.jsx)(s.code,{children:"WidgetRoute"})," class' ",(0,i.jsx)(s.code,{children:"build"}),"\nmethod. This gives you access to all the features you typically get from a\nstandard method call to an endpoint. Use the database, logging, or caching the\nsame way you would in a method call:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-dart",children:"class DataRoute extends WidgetRoute {\n  @override\n  Future<TemplateWidget> build(Session session, Request request) async {\n    // Access the database\n    final users = await User.db.find(session);\n\n    // Logging\n    session.log('Rendering user list page');\n\n    return UserListWidget(users: users);\n  }\n}\n"})}),"\n",(0,i.jsx)(s.admonition,{title:"Alternative",type:"info",children:(0,i.jsxs)(s.p,{children:["If you prefer ",(0,i.jsx)(s.a,{href:"https://docs.page/schultek/jaspr",children:"Jaspr"}),", which provides a\nFlutter-like API for building web applications. You can integrate Jaspr with\nServerpod's web server using custom ",(0,i.jsx)(s.code,{children:"Route"})," classes, giving you full control\nover request handling while leveraging Jaspr's component model."]})}),"\n",(0,i.jsx)(s.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["For modern server-side rendering, explore\n",(0,i.jsx)(s.a,{href:"https://docs.page/schultek/jaspr",children:"Jaspr"})," integration"]}),"\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.a,{href:"routing",children:"custom routes"})," for REST APIs and custom request handling"]}),"\n",(0,i.jsxs)(s.li,{children:["Serve ",(0,i.jsx)(s.a,{href:"static-files",children:"static files"})," for CSS, JavaScript, and images"]}),"\n",(0,i.jsxs)(s.li,{children:["Add ",(0,i.jsx)(s.a,{href:"middleware",children:"middleware"})," for cross-cutting concerns like logging and\nerror handling"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453(e,s,n){n.d(s,{R:()=>d,x:()=>a});var t=n(96540);const i={},r=t.createContext(i);function d(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);